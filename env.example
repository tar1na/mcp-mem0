# Example environment configuration for mcp-mem0
# Copy this file to .env and fill in your actual values

# =============================================================================
# REQUIRED FOR PRODUCTION - Override these defaults
# =============================================================================

# User identifier
DEFAULT_USER_ID=your_production_user_id_here

# =============================================================================
# Server Configuration
# =============================================================================

# Server host and port
HOST=0.0.0.0
PORT=8050

# Transport method (sse or stdio)
TRANSPORT=sse

# =============================================================================
# Mem0 Configuration
# =============================================================================

# LLM Provider (openai, openrouter, or ollama)
LLM_PROVIDER=openai

# Embedding Provider (openai, openrouter, or ollama)
# If not set, will use the same provider as LLM_PROVIDER
EMBEDDING_PROVIDER=openai

# API Key for your LLM provider
LLM_API_KEY=your_api_key_here

# LLM Model choice
LLM_CHOICE=gpt-3.5-turbo

# Embedding model choice
EMBEDDING_MODEL_CHOICE=text-embedding-3-small

# Embedding model dimensions (required for vector storage)
# Common values: 1536 (OpenAI text-embedding-3-small), 1024 (Ollama nomic-embed-text), 1536 (OpenAI), 1024 (other models)
# Defaults: OpenAI=1536, Ollama/Other=1024 (can be overridden with this variable)
EMBEDDING_MODEL_DIMS=1536

# Base URL for your LLM provider
# OpenAI: https://api.openai.com/v1 (default)
# Custom OpenAI-compatible server: http://your-server:port/v1
# Ollama: http://localhost:11434
# OpenRouter: https://openrouter.ai/api/v1
LLM_BASE_URL=http://localhost:11434

# =============================================================================
# Database Configuration
# =============================================================================

# Supabase connection string
DATABASE_URL=postgresql://username:password@host:port/database

# Database Connection Management
# Minimum number of connections in the pool
DATABASE_POOL_SIZE=5

# Maximum number of connections in the pool
DATABASE_MAX_CONNECTIONS=20

# Maximum number of connections that can be created beyond the pool size
DATABASE_MAX_OVERFLOW=10

# Timeout in seconds for getting a connection from the pool
DATABASE_POOL_TIMEOUT=30

# Time in seconds after which a connection is recycled
DATABASE_POOL_RECYCLE=3600

# Interval in seconds between database health checks
DATABASE_HEALTH_CHECK_INTERVAL=60

# Number of retry attempts for database operations
DATABASE_RETRY_ATTEMPTS=3

# Initial delay in seconds between retry attempts
DATABASE_RETRY_DELAY=2.0

# Maximum delay in seconds between retry attempts (exponential backoff)
DATABASE_MAX_RETRY_DELAY=60.0

# =============================================================================
# Development Settings
# =============================================================================

# Enable debug mode (set to true for development)
DEBUG=false

# Log level (DEBUG, INFO, WARNING, ERROR)
LOG_LEVEL=INFO

# =============================================================================
# Security Notes
# =============================================================================

# IMPORTANT: Never use the default DEFAULT_USER_ID in production
# This will cause all users to share the same memory space
# 
# Each user should have a unique identifier such as:
# - Authentication subject ID
# - Email hash
# - Tenant + user combination
# - UUID
#
# Example production values:
# DEFAULT_USER_ID=prod_user_${AUTH_SUBJECT}
# DEFAULT_USER_ID=tenant_${TENANT_ID}_user_${USER_ID}
# DEFAULT_USER_ID=${USER_UUID}
